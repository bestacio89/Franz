2025-11-24 01:19:35.706 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:19:40.392 +01:00 [DBG] Initializing Razor view compiler with no compiled views.
2025-11-24 01:19:40.413 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-11-24 01:19:40.499 +01:00 [DBG] Hosting starting
2025-11-24 01:19:40.664 +01:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-11-24 01:19:40.670 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-11-24 01:19:40.852 +01:00 [DBG] Loaded hosting startup assembly Franz.API
2025-11-24 01:19:40.856 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-11-24 01:19:40.861 +01:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-11-24 01:19:40.871 +01:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2025-11-24 01:19:40.878 +01:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v10.0.0.0.
2025-11-24 01:19:40.898 +01:00 [DBG] Executing API description provider 'JsonPatchOperationsArrayProvider' from assembly Microsoft.AspNetCore.Mvc.NewtonsoftJson v10.0.0.0.
2025-11-24 01:19:40.904 +01:00 [DBG] Executing API description provider 'VersionedApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.Versioning.ApiExplorer v5.1.0.0.
2025-11-24 01:19:41.103 +01:00 [DBG] Hosting started
2025-11-24 01:19:41.319 +01:00 [DBG] Connection id "0HNHATSKM9132" received FIN.
2025-11-24 01:19:41.329 +01:00 [DBG] Connection id "0HNHATSKM9132" accepted.
2025-11-24 01:19:41.334 +01:00 [DBG] Connection id "0HNHATSKM9132" started.
2025-11-24 01:19:41.351 +01:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-11-24 01:19:41.363 +01:00 [DBG] Connection id "0HNHATSKM9132" stopped.
2025-11-24 01:19:41.371 +01:00 [DBG] Connection id "0HNHATSKM9132" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-24 01:19:42.440 +01:00 [DBG] Connection id "0HNHATSKM9133" accepted.
2025-11-24 01:19:42.455 +01:00 [DBG] Connection id "0HNHATSKM9134" accepted.
2025-11-24 01:19:42.456 +01:00 [DBG] Connection id "0HNHATSKM9133" started.
2025-11-24 01:19:42.481 +01:00 [DBG] Connection id "0HNHATSKM9134" started.
2025-11-24 01:19:42.538 +01:00 [DBG] Connection id "0HNHATSKM9134" received FIN.
2025-11-24 01:19:42.569 +01:00 [DBG] Connection 0HNHATSKM9133 established using the following protocol: "Tls13"
2025-11-24 01:19:42.569 +01:00 [DBG] Connection 0HNHATSKM9134 established using the following protocol: "Tls13"
2025-11-24 01:19:42.591 +01:00 [DBG] Connection id "0HNHATSKM9134" is closed. The last processed stream ID was 0.
2025-11-24 01:19:42.597 +01:00 [DBG] Connection id "0HNHATSKM9134" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-11-24 01:19:42.675 +01:00 [DBG] The connection queue processing loop for 0HNHATSKM9134 completed.
2025-11-24 01:19:42.682 +01:00 [DBG] Connection id "0HNHATSKM9134" stopped.
2025-11-24 01:19:42.702 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger - null null
2025-11-24 01:19:42.859 +01:00 [DBG] No candidates found for the request path '/swagger'
2025-11-24 01:19:42.865 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:42.889 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:42.932 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger - 301 0 null 235.2278ms
2025-11-24 01:19:42.945 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.html - null null
2025-11-24 01:19:42.994 +01:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-11-24 01:19:42.999 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:43.005 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.084 +01:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-11-24 01:19:43.093 +01:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-11-24 01:19:43.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.html - 200 null text/html;charset=utf-8 152.7152ms
2025-11-24 01:19:43.198 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/swagger-ui.css - null null
2025-11-24 01:19:43.200 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.js - null null
2025-11-24 01:19:43.200 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/swagger-ui-standalone-preset.js - null null
2025-11-24 01:19:43.234 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-11-24 01:19:43.242 +01:00 [DBG] No candidates found for the request path '/swagger/index.js'
2025-11-24 01:19:43.249 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-11-24 01:19:43.254 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:43.259 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:43.264 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:43.200 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/index.css - null null
2025-11-24 01:19:43.277 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.277 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.280 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.301 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.js - 200 null application/javascript;charset=utf-8 100.514ms
2025-11-24 01:19:43.289 +01:00 [DBG] No candidates found for the request path '/swagger/index.css'
2025-11-24 01:19:43.230 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/_vs/browserLink - null null
2025-11-24 01:19:43.200 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/swagger-ui-bundle.js - null null
2025-11-24 01:19:43.354 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:43.381 +01:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-11-24 01:19:43.391 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.429 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:43.438 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/index.css - 200 152 text/css 238.3252ms
2025-11-24 01:19:43.443 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.478 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/swagger-ui.css - 200 23649 text/css 279.9641ms
2025-11-24 01:19:43.478 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/swagger-ui-standalone-preset.js - 200 77354 text/javascript 277.4122ms
2025-11-24 01:19:43.503 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/swagger-ui-bundle.js - 200 424834 text/javascript 303.1286ms
2025-11-24 01:19:43.573 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/_vs/browserLink - 200 null text/javascript; charset=UTF-8 343.3446ms
2025-11-24 01:19:43.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/openapi/v1.json - null null
2025-11-24 01:19:43.862 +01:00 [DBG] 1 candidate(s) found for the request path '/openapi/v1.json'
2025-11-24 01:19:43.869 +01:00 [DBG] Endpoint 'HTTP: GET /openapi/{documentName}.json' with route pattern '/openapi/{documentName}.json' is valid for the request path '/openapi/v1.json'
2025-11-24 01:19:43.878 +01:00 [DBG] Request matched endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-11-24 01:19:43.879 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/swagger/favicon-32x32.png - null null
2025-11-24 01:19:43.888 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.895 +01:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-11-24 01:19:43.907 +01:00 [DBG] Request did not match any endpoints
2025-11-24 01:19:43.909 +01:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-11-24 01:19:43.913 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:19:43.926 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/swagger/favicon-32x32.png - 200 628 image/png 46.2785ms
2025-11-24 01:19:43.989 +01:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-11-24 01:19:43.999 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/openapi/v1.json - 200 null application/json;charset=utf-8 153.8879ms
2025-11-24 01:20:02.763 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-author/Monster - null null
2025-11-24 01:20:02.772 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-author/Monster'
2025-11-24 01:20:02.781 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-author/{author}' is valid for the request path '/api/v1/api/books/by-author/Monster'
2025-11-24 01:20:02.789 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:20:02.795 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:20:02.800 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:20:02.810 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:20:02.835 +01:00 [INF] Route matched with {action = "GetByAuthor", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByAuthor(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:20:02.844 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:20:02.849 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:20:02.854 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:20:02.861 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:20:02.866 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:20:02.874 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:20:02.879 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:20:02.888 +01:00 [DBG] Attempting to bind parameter 'author' of type 'System.String' ...
2025-11-24 01:20:02.895 +01:00 [DBG] Attempting to bind parameter 'author' of type 'System.String' using the name 'author' in request data ...
2025-11-24 01:20:02.902 +01:00 [DBG] Done attempting to bind parameter 'author' of type 'System.String'.
2025-11-24 01:20:02.907 +01:00 [DBG] Done attempting to bind parameter 'author' of type 'System.String'.
2025-11-24 01:20:02.913 +01:00 [DBG] Attempting to validate the bound parameter 'author' of type 'System.String' ...
2025-11-24 01:20:02.919 +01:00 [DBG] Done attempting to validate the bound parameter 'author' of type 'System.String'.
2025-11-24 01:20:02.926 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:20:02.931 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:20:02.936 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:20:02.942 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:20:03.009 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByAuthor (Franz.API) - Validation state: "Valid"
2025-11-24 01:20:03.024 +01:00 [INF] üîé [Audit-Pre] Validating GetBooksByAuthorQuery [bc178b7aa368445682f74b8a3d301780]
2025-11-24 01:20:03.031 +01:00 [INF] ‚è≥ [Pre] Starting GetBooksByAuthorQuery [bc178b7aa368445682f74b8a3d301780]
2025-11-24 01:20:03.049 +01:00 [INF] [Validation] GetBooksByAuthorQuery passed
2025-11-24 01:20:03.056 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7]
2025-11-24 01:20:03.087 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:20:03.111 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:20:03.126 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:20:03.139 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:20:03.805 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 666ms
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:04.090 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed after 963ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:04.574 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed within CircuitBreaker after 1463ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:04.787 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] retry attempt 1 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:20:05.409 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:20:05.463 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:20:05.479 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:20:05.723 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 243ms
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:06.010 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed after 547ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:06.461 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed within CircuitBreaker after 1052ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:06.648 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] retry attempt 2 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:20:07.250 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:20:07.256 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:20:07.262 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:20:07.458 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 195ms
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:07.726 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed after 469ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:08.169 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed within CircuitBreaker after 919ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:08.370 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] retry attempt 3 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:20:08.969 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:20:08.976 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:20:08.982 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:20:09.201 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 218ms
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:09.525 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed after 548ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:09.966 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed within CircuitBreaker after 997ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:10.159 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] retry attempt 4 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:20:10.405 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed after 7334ms (policy AsyncRetryPolicy-d030d8c8, retries=4)
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.AsyncPolicy.<>c__DisplayClass44_0.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync(Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:10.905 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [0415767c5a614f8f85fe28659cd2e3e7] failed after 7849ms
System.Exception: ü•§ Sorry this demo needs to fail, get a can of Monster!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 30
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.AsyncPolicy.<>c__DisplayClass44_0.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync(Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.OpenTelemetry.OpenTelemetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Pipelines.Logging.SerilogLoggingPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:20:19.035 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:20:19.047 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:20:19.056 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:20:19.063 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:20:19.070 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:20:19.077 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-24 01:20:19.084 +01:00 [INF] Executing ObjectResult, writing value of type 'Franz.Common.Errors.ErrorResponse'.
2025-11-24 01:20:19.287 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByAuthor (Franz.API) in 16408.8519ms
2025-11-24 01:20:19.296 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:20:19.320 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-author/Monster - 500 6744 application/json; charset=utf-8; x-api-version=1 16555.1259ms
2025-11-24 01:21:01.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-author/Banana - null null
2025-11-24 01:21:01.426 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-author/Banana'
2025-11-24 01:21:01.433 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-author/{author}' is valid for the request path '/api/v1/api/books/by-author/Banana'
2025-11-24 01:21:01.438 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:21:01.443 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:21:01.448 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:21:01.457 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:21:01.463 +01:00 [INF] Route matched with {action = "GetByAuthor", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByAuthor(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:21:01.470 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:21:01.476 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:21:01.481 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:21:01.488 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:21:01.493 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:21:01.498 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:21:01.503 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:21:01.507 +01:00 [DBG] Attempting to bind parameter 'author' of type 'System.String' ...
2025-11-24 01:21:01.511 +01:00 [DBG] Attempting to bind parameter 'author' of type 'System.String' using the name 'author' in request data ...
2025-11-24 01:21:01.516 +01:00 [DBG] Done attempting to bind parameter 'author' of type 'System.String'.
2025-11-24 01:21:01.520 +01:00 [DBG] Done attempting to bind parameter 'author' of type 'System.String'.
2025-11-24 01:21:01.524 +01:00 [DBG] Attempting to validate the bound parameter 'author' of type 'System.String' ...
2025-11-24 01:21:01.528 +01:00 [DBG] Done attempting to validate the bound parameter 'author' of type 'System.String'.
2025-11-24 01:21:01.532 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:21:01.536 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:21:01.540 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:21:01.544 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:21:01.569 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByAuthor (Franz.API) - Validation state: "Valid"
2025-11-24 01:21:01.575 +01:00 [INF] üîé [Audit-Pre] Validating GetBooksByAuthorQuery [f6713aa7c62f4b158e03602a768f7f4c]
2025-11-24 01:21:01.580 +01:00 [INF] ‚è≥ [Pre] Starting GetBooksByAuthorQuery [f6713aa7c62f4b158e03602a768f7f4c]
2025-11-24 01:21:01.584 +01:00 [INF] [Validation] GetBooksByAuthorQuery passed
2025-11-24 01:21:01.588 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb]
2025-11-24 01:21:01.592 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:21:01.596 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:21:01.601 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:21:01.605 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:21:01.848 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 243ms
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:02.132 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed after 531ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:02.521 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed within CircuitBreaker after 924ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:02.707 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] retry attempt 1 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:21:03.296 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:21:03.303 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:21:03.308 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:21:03.494 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 185ms
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:03.828 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed after 525ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:04.205 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed within CircuitBreaker after 909ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:04.359 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] retry attempt 2 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:21:04.947 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:21:04.952 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:21:04.956 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:21:05.130 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 173ms
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:05.376 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed after 424ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:05.763 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed within CircuitBreaker after 815ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:05.931 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] retry attempt 3 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:21:06.516 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:21:06.522 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:21:06.527 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:21:06.704 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 176ms
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:06.984 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed after 461ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:07.369 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed within CircuitBreaker after 852ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:07.542 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] retry attempt 4 (policy AsyncRetryPolicy-d030d8c8)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:21:07.726 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed after 6134ms (policy AsyncRetryPolicy-d030d8c8, retries=4)
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.AsyncPolicy.<>c__DisplayClass44_0.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync(Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:08.118 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [8e76b1946bab4cab869edb6f76f710bb] failed after 6529ms
System.Exception: üçå Banana Republic Exception: simulated DB meltdown!
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 33
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.AsyncPolicy.<>c__DisplayClass44_0.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync(Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.OpenTelemetry.OpenTelemetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Pipelines.Logging.SerilogLoggingPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:11.827 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:21:11.835 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:21:11.842 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:21:11.848 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:21:11.853 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:21:11.857 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-24 01:21:11.863 +01:00 [INF] Executing ObjectResult, writing value of type 'Franz.Common.Errors.ErrorResponse'.
2025-11-24 01:21:11.893 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByAuthor (Franz.API) in 10394.3229ms
2025-11-24 01:21:11.899 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:21:11.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-author/Banana - 500 6741 application/json; charset=utf-8; x-api-version=1 10489.9707ms
2025-11-24 01:21:47.105 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-author/Friendly - null null
2025-11-24 01:21:47.114 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-author/Friendly'
2025-11-24 01:21:47.118 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-author/{author}' is valid for the request path '/api/v1/api/books/by-author/Friendly'
2025-11-24 01:21:47.123 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:21:47.127 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:21:47.131 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:21:47.137 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:21:47.146 +01:00 [INF] Route matched with {action = "GetByAuthor", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByAuthor(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:21:47.153 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:21:47.159 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:21:47.163 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:21:47.170 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:21:47.175 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:21:47.182 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:21:47.186 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:21:47.191 +01:00 [DBG] Attempting to bind parameter 'author' of type 'System.String' ...
2025-11-24 01:21:47.195 +01:00 [DBG] Attempting to bind parameter 'author' of type 'System.String' using the name 'author' in request data ...
2025-11-24 01:21:47.200 +01:00 [DBG] Done attempting to bind parameter 'author' of type 'System.String'.
2025-11-24 01:21:47.204 +01:00 [DBG] Done attempting to bind parameter 'author' of type 'System.String'.
2025-11-24 01:21:47.208 +01:00 [DBG] Attempting to validate the bound parameter 'author' of type 'System.String' ...
2025-11-24 01:21:47.212 +01:00 [DBG] Done attempting to validate the bound parameter 'author' of type 'System.String'.
2025-11-24 01:21:47.216 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:21:47.220 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:21:47.224 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:21:47.228 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:21:47.251 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByAuthor (Franz.API) - Validation state: "Valid"
2025-11-24 01:21:47.259 +01:00 [INF] üîé [Audit-Pre] Validating GetBooksByAuthorQuery [8f6fb2fba5264eafbbb742ff103e9b08]
2025-11-24 01:21:47.263 +01:00 [INF] ‚è≥ [Pre] Starting GetBooksByAuthorQuery [8f6fb2fba5264eafbbb742ff103e9b08]
2025-11-24 01:21:47.270 +01:00 [INF] [Validation] GetBooksByAuthorQuery passed
2025-11-24 01:21:47.274 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80]
2025-11-24 01:21:47.279 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:21:47.283 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:21:47.287 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:21:47.291 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:21:52.402 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 5110ms
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:52.562 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed after 5274ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:52.860 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed within CircuitBreaker after 5577ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:53.002 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] retry attempt 1 (policy AsyncRetryPolicy-d030d8c8)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:21:53.588 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:21:53.593 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:21:53.599 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:21:58.693 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 5094ms
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:58.846 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed after 5253ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:59.103 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed within CircuitBreaker after 5514ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:21:59.228 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] retry attempt 2 (policy AsyncRetryPolicy-d030d8c8)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:21:59.814 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:21:59.820 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:21:59.825 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:22:04.932 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 5106ms
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:05.146 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed after 5326ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:05.477 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed within CircuitBreaker after 5663ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:05.644 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] retry attempt 3 (policy AsyncRetryPolicy-d030d8c8)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:22:06.213 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:22:06.218 +01:00 [INF] ‚è≥ Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:22:06.223 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:22:11.319 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] faulted under Bulkhead AsyncBulkheadPolicy-8a7679e8 after 5096ms
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:11.487 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed after 5269ms (policy AsyncTimeoutPolicy-4b5b9b35)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:11.767 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed within CircuitBreaker after 5554ms (policy AsyncCircuitBreakerPolicy-1f038293)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:11.910 +01:00 [WRN] üîÅ GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] retry attempt 4 (policy AsyncRetryPolicy-d030d8c8)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
2025-11-24 01:22:12.066 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed after 24787ms (policy AsyncRetryPolicy-d030d8c8, retries=4)
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.AsyncPolicy.<>c__DisplayClass44_0.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync(Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:12.428 +01:00 [ERR] ‚ùå GetBooksByAuthorQuery [d25dc255688941ad8d2e3029bc0b5d80] failed after 25153ms
System.TimeoutException: üíå Friendly Reminder: simulated timeout.
   at Franz.Application.Books.Queries.GetBooksByAuthorQueryHandler.Handle(GetBooksByAuthorQuery request, CancellationToken cancellationToken) in E:\Source\Repos\Franz\sources\back\Franz.Application\Books\Queries\GetBooksAuthorQuery.cs:line 37
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Bulkhead.AsyncBulkheadEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 onBulkheadRejectedAsync, SemaphoreSlim maxParallelizationSemaphore, SemaphoreSlim maxQueuedActionsSemaphore, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyBulkheadPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.Timeout.AsyncTimeoutEngine.ImplementationAsync[TResult](Func`3 action, Context context, Func`2 timeoutProvider, TimeoutStrategy timeoutStrategy, Func`5 onTimeoutAsync, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyTimeoutPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.<>c__DisplayClass8_0`1.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.CircuitBreaker.AsyncCircuitBreakerEngine.ImplementationAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, ExceptionPredicates shouldHandleExceptionPredicates, ResultPredicates`1 shouldHandleResultPredicates, ICircuitController`1 breakerController, CancellationToken cancellationToken)
   at Polly.CircuitBreaker.AsyncCircuitBreakerPolicy.ImplementationAsync[TResult](Func`3 action, Context context, CancellationToken cancellationToken, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyCircuitBreakerPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.<>c__DisplayClass4_0.<<Handle>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.AsyncPolicy.<>c__DisplayClass44_0.<<ImplementationAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync(Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Polly.Pipelines.PollyRetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.OpenTelemetry.OpenTelemetryPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
   at Franz.Common.Mediator.Pipelines.Logging.SerilogLoggingPipeline`2.Handle(TRequest request, Func`1 next, CancellationToken cancellationToken)
2025-11-24 01:22:16.486 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:22:16.493 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:22:16.498 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:22:16.503 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:22:16.506 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:22:16.510 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-24 01:22:16.515 +01:00 [INF] Executing ObjectResult, writing value of type 'Franz.Common.Errors.ErrorResponse'.
2025-11-24 01:22:16.520 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByAuthor (Franz.API) in 29338.1504ms
2025-11-24 01:22:16.525 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByAuthor (Franz.API)'
2025-11-24 01:22:16.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-author/Friendly - 500 6729 application/json; charset=utf-8; x-api-version=1 29424.8836ms
2025-11-24 01:24:14.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books - null null
2025-11-24 01:24:14.953 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books'
2025-11-24 01:24:14.959 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetAll (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books' is valid for the request path '/api/v1/api/books'
2025-11-24 01:24:14.966 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetAll (Franz.API)'
2025-11-24 01:24:14.972 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:24:14.978 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetAll (Franz.API)'
2025-11-24 01:24:14.985 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:24:15.000 +01:00 [INF] Route matched with {action = "GetAll", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Franz.Contracts.DTOs.BookDto]]] GetAll(System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:24:15.007 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:24:15.014 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:24:15.021 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:24:15.031 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:24:15.038 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:24:15.047 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:24:15.053 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:24:15.059 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:24:15.065 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:24:15.072 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:24:15.077 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:24:15.111 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetAll (Franz.API) - Validation state: "Valid"
2025-11-24 01:24:15.120 +01:00 [INF] üîé [Audit-Pre] Validating ListBooksQuery [c580a7347861445eb56911005f2dce0a]
2025-11-24 01:24:15.126 +01:00 [INF] ‚è≥ [Pre] Starting ListBooksQuery [c580a7347861445eb56911005f2dce0a]
2025-11-24 01:24:15.138 +01:00 [INF] [Validation] ListBooksQuery passed
2025-11-24 01:24:15.144 +01:00 [INF] ‚ñ∂Ô∏è Handling ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503]
2025-11-24 01:24:15.150 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:24:15.157 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:24:15.163 +01:00 [INF] ‚è≥ Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:15.171 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.243 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 70ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.251 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.261 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 9ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.269 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed within timeout in 105ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:15.278 +01:00 [INF] ‚è≥ Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:15.285 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.297 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 11ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.304 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.316 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 11ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.325 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed within timeout in 46ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:15.333 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] passed CircuitBreaker in 175ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:24:15.341 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:24:15.347 +01:00 [INF] ‚è≥ Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:15.352 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.374 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 21ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.382 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.392 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 9ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.399 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed within timeout in 52ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:15.406 +01:00 [INF] ‚è≥ Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:15.412 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.421 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 8ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.430 +01:00 [INF] ‚ñ∂Ô∏è Executing ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:15.438 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed via Bulkhead in 8ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:15.446 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed within timeout in 39ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:15.452 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] passed CircuitBreaker in 111ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:24:15.459 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] succeeded after 309ms (policy AsyncRetryPolicy-d030d8c8, retries=0)
2025-11-24 01:24:15.467 +01:00 [INF] ‚úÖ ListBooksQuery [85f922658fec48e5a4f5a62fab8c0503] completed in 323ms
2025-11-24 01:24:15.480 +01:00 [INF] ‚úÖ [Audit-Post] ListBooksQuery [00041fa7148e460f9e18b1fadacce01e] response {"Value":[{"Id":1,"Title":"Domain-Driven Design","Author":"Eric Evans","Isbn":"9780321125217","PublishedOn":"2003-08-30T00:00:00.0000000Z","CopiesAvailable":5,"$type":"BookDto"},{"Id":2,"Title":"Clean Code","Author":"Robert C. Martin","Isbn":"9780132350884","PublishedOn":"2008-08-01T00:00:00.0000000Z","CopiesAvailable":7,"$type":"BookDto"},{"Id":3,"Title":"Clean Architecture","Author":"Robert C. Martin","Isbn":"9780134494166","PublishedOn":"2017-09-20T00:00:00.0000000Z","CopiesAvailable":4,"$type":"BookDto"},{"Id":4,"Title":"The Clean Coder","Author":"Robert C. Martin","Isbn":"9780137081073","PublishedOn":"2011-05-23T00:00:00.0000000Z","CopiesAvailable":6,"$type":"BookDto"},{"Id":5,"Title":"Pragmatic Thinking for Software Engineers","Author":"Robert J. Price","Isbn":"9780984782802","PublishedOn":"2012-03-15T00:00:00.0000000Z","CopiesAvailable":1,"$type":"BookDto"},{"Id":6,"Title":"Advanced Patterns in C#","Author":"Robert J. Price","Isbn":"9780984782819","PublishedOn":"2014-07-10T00:00:00.0000000Z","CopiesAvailable":2,"$type":"BookDto"},{"Id":7,"Title":"Microservices in Practice","Author":"Robert J. Price","Isbn":"9780984782826","PublishedOn":"2016-11-05T00:00:00.0000000Z","CopiesAvailable":5,"$type":"BookDto"}],"IsSuccess":true,"Error":null,"$type":"Result`1"}
2025-11-24 01:24:15.560 +01:00 [INF] ‚úÖ [Post] ListBooksQuery [00041fa7148e460f9e18b1fadacce01e] produced {"Value":[{"Id":1,"Title":"Domain-Driven Design","Author":"Eric Evans","Isbn":"9780321125217","PublishedOn":"2003-08-30T00:00:00.0000000Z","CopiesAvailable":5,"$type":"BookDto"},{"Id":2,"Title":"Clean Code","Author":"Robert C. Martin","Isbn":"9780132350884","PublishedOn":"2008-08-01T00:00:00.0000000Z","CopiesAvailable":7,"$type":"BookDto"},{"Id":3,"Title":"Clean Architecture","Author":"Robert C. Martin","Isbn":"9780134494166","PublishedOn":"2017-09-20T00:00:00.0000000Z","CopiesAvailable":4,"$type":"BookDto"},{"Id":4,"Title":"The Clean Coder","Author":"Robert C. Martin","Isbn":"9780137081073","PublishedOn":"2011-05-23T00:00:00.0000000Z","CopiesAvailable":6,"$type":"BookDto"},{"Id":5,"Title":"Pragmatic Thinking for Software Engineers","Author":"Robert J. Price","Isbn":"9780984782802","PublishedOn":"2012-03-15T00:00:00.0000000Z","CopiesAvailable":1,"$type":"BookDto"},{"Id":6,"Title":"Advanced Patterns in C#","Author":"Robert J. Price","Isbn":"9780984782819","PublishedOn":"2014-07-10T00:00:00.0000000Z","CopiesAvailable":2,"$type":"BookDto"},{"Id":7,"Title":"Microservices in Practice","Author":"Robert J. Price","Isbn":"9780984782826","PublishedOn":"2016-11-05T00:00:00.0000000Z","CopiesAvailable":5,"$type":"BookDto"}],"IsSuccess":true,"Error":null,"$type":"Result`1"}
2025-11-24 01:24:15.645 +01:00 [INF] Executed action method Franz.API.Controllers.BooksController.GetAll (Franz.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 523.988ms.
2025-11-24 01:24:15.655 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:24:15.663 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:24:15.670 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:24:15.676 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:24:15.680 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:24:15.685 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-11-24 01:24:15.692 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Franz.Contracts.DTOs.BookDto, Franz.Contracts, Version=1.6.20.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-24 01:24:15.719 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetAll (Franz.API) in 672.2015ms
2025-11-24 01:24:15.728 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetAll (Franz.API)'
2025-11-24 01:24:15.734 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books - 200 1040 application/json; charset=utf-8; x-api-version=1 789.861ms
2025-11-24 01:24:41.398 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Clean - null null
2025-11-24 01:24:41.414 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-title/Clean'
2025-11-24 01:24:41.419 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-title/{title}' is valid for the request path '/api/v1/api/books/by-title/Clean'
2025-11-24 01:24:41.424 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:24:41.428 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:24:41.432 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:24:41.437 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:24:41.446 +01:00 [INF] Route matched with {action = "GetByTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByTitle(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:24:41.452 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:24:41.457 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:24:41.462 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:24:41.470 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:24:41.475 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:24:41.481 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:24:41.487 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:24:41.492 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' ...
2025-11-24 01:24:41.496 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' using the name 'title' in request data ...
2025-11-24 01:24:41.500 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:24:41.504 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:24:41.508 +01:00 [DBG] Attempting to validate the bound parameter 'title' of type 'System.String' ...
2025-11-24 01:24:41.512 +01:00 [DBG] Done attempting to validate the bound parameter 'title' of type 'System.String'.
2025-11-24 01:24:41.517 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:24:41.521 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:24:41.526 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:24:41.531 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:24:41.554 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API) - Validation state: "Valid"
2025-11-24 01:24:41.560 +01:00 [INF] üîé [Audit-Pre] Validating GetBookByTitleQuery [f632d7a01dc74150846c012287113c13]
2025-11-24 01:24:41.565 +01:00 [INF] ‚è≥ [Pre] Starting GetBookByTitleQuery [f632d7a01dc74150846c012287113c13]
2025-11-24 01:24:41.569 +01:00 [INF] [Validation] GetBookByTitleQuery passed
2025-11-24 01:24:41.572 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf]
2025-11-24 01:24:41.576 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:24:41.580 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:24:41.584 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:41.589 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.598 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 9ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.605 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.612 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.619 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed within timeout in 34ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:41.624 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:41.629 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.636 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.643 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.650 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.657 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed within timeout in 32ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:41.662 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] passed CircuitBreaker in 81ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:24:41.667 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:24:41.672 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:41.676 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.683 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.690 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.697 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.704 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed within timeout in 31ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:41.709 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:41.713 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.721 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.728 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:41.735 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:41.743 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed within timeout in 33ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:41.748 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] passed CircuitBreaker in 80ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:24:41.753 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] succeeded after 177ms (policy AsyncRetryPolicy-d030d8c8, retries=0)
2025-11-24 01:24:41.758 +01:00 [INF] ‚úÖ GetBookByTitleQuery [df7265ecee3c4350a8daa6a65ec0c5bf] completed in 186ms
2025-11-24 01:24:41.773 +01:00 [INF] ‚úÖ [Audit-Post] GetBookByTitleQuery [f673020f71154dc782090b3dfbb5f2f5] response {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:24:41.788 +01:00 [INF] ‚úÖ [Post] GetBookByTitleQuery [f673020f71154dc782090b3dfbb5f2f5] produced {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:24:41.801 +01:00 [INF] Executed action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 241.7216ms.
2025-11-24 01:24:41.805 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:24:41.811 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:24:41.815 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:24:41.819 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:24:41.823 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:24:41.826 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-24 01:24:41.830 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-11-24 01:24:41.835 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByTitle (Franz.API) in 353.6701ms
2025-11-24 01:24:41.839 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:24:41.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Clean - 404 null text/plain; charset=utf-8; x-api-version=1 444.7249ms
2025-11-24 01:24:56.211 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/architecture - null null
2025-11-24 01:24:56.217 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-title/architecture'
2025-11-24 01:24:56.222 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-title/{title}' is valid for the request path '/api/v1/api/books/by-title/architecture'
2025-11-24 01:24:56.227 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:24:56.231 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:24:56.236 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:24:56.240 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:24:56.244 +01:00 [INF] Route matched with {action = "GetByTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByTitle(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:24:56.250 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:24:56.255 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:24:56.260 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:24:56.268 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:24:56.274 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:24:56.280 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:24:56.285 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:24:56.289 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' ...
2025-11-24 01:24:56.294 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' using the name 'title' in request data ...
2025-11-24 01:24:56.299 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:24:56.304 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:24:56.309 +01:00 [DBG] Attempting to validate the bound parameter 'title' of type 'System.String' ...
2025-11-24 01:24:56.314 +01:00 [DBG] Done attempting to validate the bound parameter 'title' of type 'System.String'.
2025-11-24 01:24:56.319 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:24:56.324 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:24:56.329 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:24:56.333 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:24:56.364 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API) - Validation state: "Valid"
2025-11-24 01:24:56.369 +01:00 [INF] üîé [Audit-Pre] Validating GetBookByTitleQuery [6b31c93a74f44be588f3b7eea153eeeb]
2025-11-24 01:24:56.374 +01:00 [INF] ‚è≥ [Pre] Starting GetBookByTitleQuery [6b31c93a74f44be588f3b7eea153eeeb]
2025-11-24 01:24:56.379 +01:00 [INF] [Validation] GetBookByTitleQuery passed
2025-11-24 01:24:56.383 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c]
2025-11-24 01:24:56.388 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:24:56.393 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:24:56.398 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:56.403 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.506 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 102ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.512 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.518 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.524 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed within timeout in 126ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:56.530 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:56.535 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.542 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.548 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.555 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.562 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed within timeout in 32ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:56.567 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] passed CircuitBreaker in 174ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:24:56.572 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:24:56.576 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:56.581 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.587 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.593 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.600 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.606 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed within timeout in 29ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:56.611 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:24:56.615 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.620 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 5ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.626 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:24:56.632 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:24:56.638 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed within timeout in 27ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:24:56.643 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] passed CircuitBreaker in 71ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:24:56.648 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] succeeded after 260ms (policy AsyncRetryPolicy-d030d8c8, retries=0)
2025-11-24 01:24:56.654 +01:00 [INF] ‚úÖ GetBookByTitleQuery [10fe152f191c49158d9a5105340fa00c] completed in 270ms
2025-11-24 01:24:56.660 +01:00 [INF] ‚úÖ [Audit-Post] GetBookByTitleQuery [5aef9c23667d4292917be612750c4fe5] response {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:24:56.674 +01:00 [INF] ‚úÖ [Post] GetBookByTitleQuery [5aef9c23667d4292917be612750c4fe5] produced {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:24:56.689 +01:00 [INF] Executed action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 319.8653ms.
2025-11-24 01:24:56.694 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:24:56.700 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:24:56.705 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:24:56.710 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:24:56.714 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:24:56.717 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-24 01:24:56.722 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-11-24 01:24:56.726 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByTitle (Franz.API) in 446.2769ms
2025-11-24 01:24:56.731 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:24:56.735 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/architecture - 404 null text/plain; charset=utf-8; x-api-version=1 524.359ms
2025-11-24 01:25:12.384 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Clean Architecture - null null
2025-11-24 01:25:12.392 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-title/Clean Architecture'
2025-11-24 01:25:12.396 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-title/{title}' is valid for the request path '/api/v1/api/books/by-title/Clean Architecture'
2025-11-24 01:25:12.400 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:12.404 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:25:12.408 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:12.413 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:25:12.417 +01:00 [INF] Route matched with {action = "GetByTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByTitle(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:25:12.422 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:25:12.427 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:25:12.432 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:25:12.439 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:25:12.444 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:25:12.451 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:25:12.456 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:25:12.460 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' ...
2025-11-24 01:25:12.466 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' using the name 'title' in request data ...
2025-11-24 01:25:12.470 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:25:12.475 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:25:12.480 +01:00 [DBG] Attempting to validate the bound parameter 'title' of type 'System.String' ...
2025-11-24 01:25:12.485 +01:00 [DBG] Done attempting to validate the bound parameter 'title' of type 'System.String'.
2025-11-24 01:25:12.490 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:25:12.495 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:25:12.500 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:25:12.505 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:25:12.537 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API) - Validation state: "Valid"
2025-11-24 01:25:12.542 +01:00 [INF] üîé [Audit-Pre] Validating GetBookByTitleQuery [b0431cd97dc848fd841d0eaf8bae0575]
2025-11-24 01:25:12.547 +01:00 [INF] ‚è≥ [Pre] Starting GetBookByTitleQuery [b0431cd97dc848fd841d0eaf8bae0575]
2025-11-24 01:25:12.551 +01:00 [INF] [Validation] GetBookByTitleQuery passed
2025-11-24 01:25:12.555 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758]
2025-11-24 01:25:12.560 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:25:12.565 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:25:12.569 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:12.574 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.581 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.587 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.595 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.601 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed within timeout in 31ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:12.606 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:12.611 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.618 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.624 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.631 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.637 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed within timeout in 30ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:12.643 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] passed CircuitBreaker in 77ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:25:12.648 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:25:12.673 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:12.678 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.686 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 8ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.692 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.699 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.707 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed within timeout in 33ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:12.712 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:12.716 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.723 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.729 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:12.735 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:12.741 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed within timeout in 28ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:12.747 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] passed CircuitBreaker in 98ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:25:12.751 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] succeeded after 191ms (policy AsyncRetryPolicy-d030d8c8, retries=0)
2025-11-24 01:25:12.757 +01:00 [INF] ‚úÖ GetBookByTitleQuery [bd04144976fa4494b7be5c287d24f758] completed in 201ms
2025-11-24 01:25:12.765 +01:00 [INF] ‚úÖ [Audit-Post] GetBookByTitleQuery [5131c5a6716c42a2a47f727f9574802d] response {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:25:12.779 +01:00 [INF] ‚úÖ [Post] GetBookByTitleQuery [5131c5a6716c42a2a47f727f9574802d] produced {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:25:12.793 +01:00 [INF] Executed action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 251.447ms.
2025-11-24 01:25:12.798 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:25:12.804 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:25:12.809 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:25:12.813 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:25:12.817 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:25:12.820 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-24 01:25:12.825 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-11-24 01:25:12.829 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByTitle (Franz.API) in 377.7816ms
2025-11-24 01:25:12.834 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:12.838 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Clean Architecture - 404 null text/plain; charset=utf-8; x-api-version=1 454.174ms
2025-11-24 01:25:32.064 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Domain - null null
2025-11-24 01:25:32.072 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-title/Domain'
2025-11-24 01:25:32.077 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-title/{title}' is valid for the request path '/api/v1/api/books/by-title/Domain'
2025-11-24 01:25:32.084 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:32.089 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:25:32.093 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:32.098 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:25:32.102 +01:00 [INF] Route matched with {action = "GetByTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByTitle(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:25:32.108 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:25:32.113 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:25:32.119 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:25:32.126 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:25:32.131 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:25:32.138 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:25:32.142 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:25:32.146 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' ...
2025-11-24 01:25:32.151 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' using the name 'title' in request data ...
2025-11-24 01:25:32.155 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:25:32.159 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:25:32.164 +01:00 [DBG] Attempting to validate the bound parameter 'title' of type 'System.String' ...
2025-11-24 01:25:32.169 +01:00 [DBG] Done attempting to validate the bound parameter 'title' of type 'System.String'.
2025-11-24 01:25:32.172 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:25:32.177 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:25:32.181 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:25:32.186 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:25:32.209 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API) - Validation state: "Valid"
2025-11-24 01:25:32.214 +01:00 [INF] üîé [Audit-Pre] Validating GetBookByTitleQuery [1a4bdf6fa6744f47be6b2caf7cfd569b]
2025-11-24 01:25:32.219 +01:00 [INF] ‚è≥ [Pre] Starting GetBookByTitleQuery [1a4bdf6fa6744f47be6b2caf7cfd569b]
2025-11-24 01:25:32.224 +01:00 [INF] [Validation] GetBookByTitleQuery passed
2025-11-24 01:25:32.228 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276]
2025-11-24 01:25:32.233 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:25:32.238 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:25:32.243 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:32.249 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.256 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.264 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.271 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.278 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed within timeout in 35ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:32.284 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:32.288 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.293 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 5ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.300 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.306 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.312 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed within timeout in 28ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:32.317 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] passed CircuitBreaker in 79ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:25:32.321 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:25:32.326 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:32.330 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.336 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 5ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.341 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.346 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 5ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.351 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed within timeout in 25ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:32.356 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:32.360 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.366 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.372 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:32.378 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed via Bulkhead in 5ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:32.384 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed within timeout in 27ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:32.389 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] passed CircuitBreaker in 67ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:25:32.394 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] succeeded after 161ms (policy AsyncRetryPolicy-d030d8c8, retries=0)
2025-11-24 01:25:32.399 +01:00 [INF] ‚úÖ GetBookByTitleQuery [2b3eccc7718a41499c0d1fe6240e0276] completed in 171ms
2025-11-24 01:25:32.404 +01:00 [INF] ‚úÖ [Audit-Post] GetBookByTitleQuery [c4d4f0a143d647c88daf1be2ad76364c] response {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:25:32.415 +01:00 [INF] ‚úÖ [Post] GetBookByTitleQuery [c4d4f0a143d647c88daf1be2ad76364c] produced {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:25:32.427 +01:00 [INF] Executed action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 212.7086ms.
2025-11-24 01:25:32.431 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:25:32.436 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:25:32.441 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:25:32.446 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:25:32.450 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:25:32.453 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-24 01:25:32.457 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-11-24 01:25:32.462 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByTitle (Franz.API) in 324.6963ms
2025-11-24 01:25:32.467 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:32.471 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Domain - 404 null text/plain; charset=utf-8; x-api-version=1 406.8851ms
2025-11-24 01:25:44.363 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Domain Driven Design - null null
2025-11-24 01:25:44.380 +01:00 [DBG] 1 candidate(s) found for the request path '/api/v1/api/books/by-title/Domain Driven Design'
2025-11-24 01:25:44.385 +01:00 [DBG] Endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)' with route pattern 'api/v{version:apiVersion}/api/books/by-title/{title}' is valid for the request path '/api/v1/api/books/by-title/Domain Driven Design'
2025-11-24 01:25:44.390 +01:00 [DBG] Request matched endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:44.395 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-11-24 01:25:44.399 +01:00 [INF] Executing endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:44.404 +01:00 [DBG] [DB] Connection string (masked): Host=127.0.0.1;Database=library;Username=postgres;Password=***;Port=5432;SSL Mode=Disable
2025-11-24 01:25:44.407 +01:00 [INF] Route matched with {action = "GetByTitle", controller = "Books"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Franz.Contracts.DTOs.BookDto]]] GetByTitle(System.String, System.Threading.CancellationToken) on controller Franz.API.Controllers.BooksController (Franz.API).
2025-11-24 01:25:44.413 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-11-24 01:25:44.418 +01:00 [DBG] Execution plan of resource filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter"]
2025-11-24 01:25:44.423 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Franz.Common.Http.EntityFramework.Transactions.TransactionFilter","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)","Microsoft.AspNetCore.Mvc.Versioning.ApplyContentTypeVersionActionFilter"]
2025-11-24 01:25:44.430 +01:00 [DBG] Execution plan of exception filters (in the following order): ["Franz.Common.Http.Errors.ExceptionFilter"]
2025-11-24 01:25:44.435 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter","Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2025-11-24 01:25:44.441 +01:00 [DBG] Executing controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:25:44.445 +01:00 [DBG] Executed controller factory for controller Franz.API.Controllers.BooksController (Franz.API)
2025-11-24 01:25:44.449 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' ...
2025-11-24 01:25:44.453 +01:00 [DBG] Attempting to bind parameter 'title' of type 'System.String' using the name 'title' in request data ...
2025-11-24 01:25:44.457 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:25:44.461 +01:00 [DBG] Done attempting to bind parameter 'title' of type 'System.String'.
2025-11-24 01:25:44.465 +01:00 [DBG] Attempting to validate the bound parameter 'title' of type 'System.String' ...
2025-11-24 01:25:44.469 +01:00 [DBG] Done attempting to validate the bound parameter 'title' of type 'System.String'.
2025-11-24 01:25:44.474 +01:00 [DBG] Attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:25:44.478 +01:00 [DBG] Done attempting to bind parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:25:44.483 +01:00 [DBG] Attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken' ...
2025-11-24 01:25:44.488 +01:00 [DBG] Done attempting to validate the bound parameter 'ct' of type 'System.Threading.CancellationToken'.
2025-11-24 01:25:44.510 +01:00 [INF] Executing action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API) - Validation state: "Valid"
2025-11-24 01:25:44.515 +01:00 [INF] üîé [Audit-Pre] Validating GetBookByTitleQuery [e6b70d11923242fdbc60f57cec45f931]
2025-11-24 01:25:44.519 +01:00 [INF] ‚è≥ [Pre] Starting GetBookByTitleQuery [e6b70d11923242fdbc60f57cec45f931]
2025-11-24 01:25:44.522 +01:00 [INF] [Validation] GetBookByTitleQuery passed
2025-11-24 01:25:44.526 +01:00 [INF] ‚ñ∂Ô∏è Handling GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4]
2025-11-24 01:25:44.530 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Retry policy AsyncRetryPolicy-d030d8c8
2025-11-24 01:25:44.534 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:25:44.538 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:44.543 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.549 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.556 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.563 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.570 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed within timeout in 31ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:44.576 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:44.581 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.587 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.593 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.599 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 5ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.605 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed within timeout in 28ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:44.610 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] passed CircuitBreaker in 76ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:25:44.616 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with CircuitBreaker AsyncCircuitBreakerPolicy-1f038293
2025-11-24 01:25:44.621 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:44.625 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.631 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.638 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.645 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.651 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed within timeout in 30ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:44.657 +01:00 [INF] ‚è≥ Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Timeout policy AsyncTimeoutPolicy-4b5b9b35
2025-11-24 01:25:44.663 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.670 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 6ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.677 +01:00 [INF] ‚ñ∂Ô∏è Executing GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] with Bulkhead AsyncBulkheadPolicy-8a7679e8
2025-11-24 01:25:44.684 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed via Bulkhead in 7ms (policy AsyncBulkheadPolicy-8a7679e8) ‚Äî Available=10, Queue=20
2025-11-24 01:25:44.691 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed within timeout in 33ms (policy AsyncTimeoutPolicy-4b5b9b35)
2025-11-24 01:25:44.697 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] passed CircuitBreaker in 81ms (policy AsyncCircuitBreakerPolicy-1f038293)
2025-11-24 01:25:44.702 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] succeeded after 171ms (policy AsyncRetryPolicy-d030d8c8, retries=0)
2025-11-24 01:25:44.707 +01:00 [INF] ‚úÖ GetBookByTitleQuery [47dbb0b6865e4a7cbf7495792c255ea4] completed in 180ms
2025-11-24 01:25:44.720 +01:00 [INF] ‚úÖ [Audit-Post] GetBookByTitleQuery [1c1689f38d21419e9c410c1a63404b43] response {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:25:44.732 +01:00 [INF] ‚úÖ [Post] GetBookByTitleQuery [1c1689f38d21419e9c410c1a63404b43] produced {"Value":null,"IsSuccess":false,"Error":{"Code":"Error","Message":"No books found with the given title","Metadata":{},"$type":"Error"},"$type":"Result`1"}
2025-11-24 01:25:44.747 +01:00 [INF] Executed action method Franz.API.Controllers.BooksController.GetByTitle (Franz.API), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 232.1344ms.
2025-11-24 01:25:44.752 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter"]
2025-11-24 01:25:44.758 +01:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain; x-api-version=1.0"]'.
2025-11-24 01:25:44.763 +01:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain; x-api-version=1.0"])
2025-11-24 01:25:44.767 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-11-24 01:25:44.771 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-11-24 01:25:44.775 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-11-24 01:25:44.780 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-11-24 01:25:44.785 +01:00 [INF] Executed action Franz.API.Controllers.BooksController.GetByTitle (Franz.API) in 344.2949ms
2025-11-24 01:25:44.789 +01:00 [INF] Executed endpoint 'Franz.API.Controllers.BooksController.GetByTitle (Franz.API)'
2025-11-24 01:25:44.795 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7178/api/v1/api/books/by-title/Domain Driven Design - 404 null text/plain; charset=utf-8; x-api-version=1 432.0398ms
